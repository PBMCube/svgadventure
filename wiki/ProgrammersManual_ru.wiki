#summary Шаги по изготовлению собственного квеста на svgAdventure

= Делаем собственный квест на базе svgAdventure =

== Изображение героя ==

В каталоге engine/ располагается файл hero.png, содержащий кадры мультипликации для изображения главного героя. По умолчанию он содержит буквенно-цифровые обозначения, соответствующие направлению и фазе мультипликации (буква --- направление, цифра --- фаза):

|| *Обозначение* || *Направление* ||
|| W || "Запад" (влево по экрану) ||
|| S || "Юг" (вниз по экрану) ||
|| E || "Восток" (вправо по экрану) ||
|| N || "Север" (вверх по экрану) ||
|| O || На месте ||

Для изменения изображения героя нарисуйте в этом файле вместо буквенно-цифровых обозначений своего героя в соответствующих позах.

== Фоновые ресунки локаций ==

В каталоге engine/ находятся файлы с именами вида scene_XXX_.png, где _XXX_ --- номер локации. Замените эти рисунки на свои файлы с аналогичным разрешением.

== Логика локаций ==

Логика прописывается в файлах с именами вида scene_XXX_.js, где _XXX_ --- номер соответствующей локации (надо бы реализовать это более изящно, если это возможно).

=== Расположение стен ===

Расположение стен хранится в массиве landscape. В каждом файле scene_XXX_.js есть присванивание примерно такого вида:
{{{
    landscape =
        [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];
}}}

Расположение элементов игрового поля здесь такое же, как на экране; единицы соответствуют стенам, нули --- пустому месту.

=== Создание дверей ===

Для создания дверей, ведущих из локации в локацию, надо записать в файл инициализации сцены (scene_XXX_.js, где _XXX_ --- номер сцены) строку примерно такого вида:
{{{
createDoor(0, 0, 'scene002', 0, 6);
}}}

Здесь 0, 0 (первые два числа) --- координаты самой двери, 'scene002' --- имя файла с локацией, в которую ведёт дверь, а 0, 6 (вторая пара чисел) --- точка, в которой герой окажется на новой локации после прохождения через дверь.